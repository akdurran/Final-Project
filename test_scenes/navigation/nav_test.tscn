[gd_scene load_steps=14 format=3 uid="uid://plpq2a5swlb3"]

[ext_resource type="PackedScene" uid="uid://c74me2bu7xks5" path="res://char/player/player.tscn" id="1_iije2"]
[ext_resource type="Script" path="res://test_scenes/navigation/nav_test.gd" id="1_xcjpi"]
[ext_resource type="PackedScene" uid="uid://dca0kq3bkrg2h" path="res://test_scenes/player_movement/floor.tscn" id="2_poaoi"]
[ext_resource type="PackedScene" uid="uid://irspa6ysrqj1" path="res://test_scenes/player_movement/cube.tscn" id="3_l8c82"]
[ext_resource type="PackedScene" uid="uid://djhldbpk00xfh" path="res://test_scenes/navigation/follower.tscn" id="6_5clb7"]
[ext_resource type="PackedScene" uid="uid://c1eup178qto40" path="res://test_scenes/navigation/world.tscn" id="6_xlnwg"]

[sub_resource type="NavigationMesh" id="NavigationMesh_kkt7i"]
vertices = PackedVector3Array(-24.8746, 0.136479, -58.8802, -35.3746, 0.136479, -58.8802, -35.3746, 0.136479, -52.8802, -24.8746, 0.136479, -58.8802, -35.3746, 0.136479, -52.8802, -35.3746, 0.136479, -46.6302, -24.8746, 0.136479, -58.8802, -35.3746, 0.136479, -46.6302, -35.3746, 0.136479, -40.3802, -24.8746, 0.136479, -58.8802, -35.3746, 0.136479, -40.3802, -35.3746, 0.136479, -34.1302, -14.1246, 0.136479, -58.8802, -24.8746, 0.136479, -58.8802, -35.3746, 0.136479, -34.1302, -35.3746, 0.136479, -27.8802, -35.3746, 0.136479, -21.6302, -35.3746, 0.136479, -15.3802, 5.12542, 0.136479, -10.8802, 7.12542, 0.136479, -10.8802, 7.12542, 0.136479, -58.8802, -3.62458, 0.136479, -58.8802, -35.3746, 0.136479, -9.13016, 4.87542, 0.136479, -9.13016, 5.12542, 0.136479, -10.8802, -35.3746, 0.136479, -15.3802, -14.1246, 0.136479, -58.8802, -35.3746, 0.136479, -27.8802, -35.3746, 0.136479, -21.6302, -3.62458, 0.136479, -58.8802, 17.1254, 0.136479, -58.8802, 7.12542, 0.136479, -58.8802, 7.12542, 0.136479, -10.8802, 17.1254, 0.136479, -10.8802, 37.3754, 0.136479, -58.8802, 27.3754, 0.136479, -58.8802, 27.3754, 0.136479, -10.8802, 37.3754, 0.136479, -10.8802, 37.3754, 0.136479, -10.8802, 47.6254, 0.136479, -10.8802, 47.6254, 0.136479, -58.8802, 37.3754, 0.136479, -58.8802, 27.3754, 0.136479, -58.8802, 17.1254, 0.136479, -58.8802, 17.1254, 0.136479, -10.8802, 27.3754, 0.136479, -10.8802, 80.6254, 0.136479, -52.8802, 80.6254, 0.136479, -58.8802, 72.3754, 0.136479, -58.8802, 80.6254, 0.136479, -46.6302, 80.6254, 0.136479, -52.8802, 72.3754, 0.136479, -58.8802, 80.6254, 0.136479, -40.3802, 80.6254, 0.136479, -46.6302, 72.3754, 0.136479, -58.8802, 80.6254, 0.136479, -40.3802, 72.3754, 0.136479, -58.8802, 64.1254, 0.136479, -58.8802, 80.6254, 0.136479, -34.1302, 47.6254, 0.136479, -10.8802, 49.6254, 0.136479, -10.8802, 80.6254, 0.136479, -21.8802, 80.6254, 0.136479, -28.1302, 55.8754, 0.136479, -58.8802, 47.6254, 0.136479, -58.8802, 49.6254, 0.136479, -10.8802, 49.8754, 0.136479, -9.13016, 80.6254, 0.136479, -9.38016, 80.6254, 0.136479, -15.6302, 80.6254, 0.136479, -28.1302, 80.6254, 0.136479, -34.1302, 64.1254, 0.136479, -58.8802, 55.8754, 0.136479, -58.8802, 49.6254, 0.136479, -10.8802, 80.6254, 0.136479, -15.6302, 80.6254, 0.136479, -21.8802, 35.6254, 3.23648, -8.13016, 35.8754, 3.23648, -9.88016, 28.3754, 3.23648, -9.88016, 28.1254, 3.23648, -8.13016, 28.1254, 3.23648, -8.13016, 28.3754, 3.23648, -9.88016, 20.8754, 3.23648, -9.88016, 20.6254, 3.23648, -8.13016, 5.87542, 3.23648, -9.88016, 5.87542, 3.23648, -8.13016, 13.1254, 3.23648, -8.13016, 13.3754, 3.23648, -9.88016, 20.6254, 3.23648, -8.13016, 20.8754, 3.23648, -9.88016, 13.3754, 3.23648, -9.88016, 13.1254, 3.23648, -8.13016, 37.3754, 3.23648, 10.1198, 35.6254, 3.23648, 10.1198, 35.8754, 3.23648, 11.8698, 42.3754, 3.23648, 11.8698, 35.8754, 3.23648, -9.88016, 35.6254, 3.23648, -8.13016, 37.3754, 3.23648, -8.13016, 42.3754, 3.23648, -9.88016, 48.8754, 3.23648, 0.869843, 37.3754, 3.13648, -7.13016, 35.6254, 2.53648, -7.13016, 35.6254, 2.53648, 9.11984, 37.3754, 3.13648, 9.11984, 37.6004, 3.13648, -5.40516, 42.3754, 3.23648, -9.88016, 37.3754, 3.23648, -8.13016, 37.3754, 3.13648, -7.13016, 48.8754, 3.23648, 0.869843, 48.8754, 3.23648, -9.88016, 37.3754, 3.13648, 9.11984, 37.3754, 3.23648, 10.1198, 42.3754, 3.23648, 11.8698, 48.8754, 3.23648, 11.8698, 48.8754, 3.23648, 0.869843, 80.6254, 0.136479, 0.869843, 80.6254, 0.136479, -9.38016, 49.8754, 0.136479, -9.13016, 49.8754, 0.136479, 0.869843, 49.8754, 0.136479, 11.1198, 80.6254, 0.136479, 11.3698, 80.6254, 0.136479, 0.869843, 49.8754, 0.136479, 0.869843, 4.87542, 0.136479, 9.36984, 6.87542, 0.136479, 9.11984, 6.87542, 0.136479, -7.13016, 4.87542, 0.136479, -7.38016, -35.3746, 0.136479, 0.869843, -35.3746, 0.136479, 11.1198, 4.87542, 0.136479, -7.38016, 4.87542, 0.136479, -9.13016, -35.3746, 0.136479, -9.13016, -35.3746, 0.136479, 0.869843, -35.3746, 0.136479, 11.1198, 4.87542, 0.136479, 11.1198, 4.87542, 0.136479, 9.36984, 13.8754, 0.136479, -7.13016, 6.87542, 0.136479, -7.13016, 6.87542, 0.136479, 9.11984, 13.8754, 0.136479, 9.11984, 21.1254, 0.136479, 9.11984, 28.3754, 0.136479, 9.11984, 28.3754, 0.136479, -7.13016, 21.1254, 0.136479, -7.13016, 28.3754, 0.136479, 9.11984, 35.6254, 2.53648, 9.11984, 35.6254, 2.53648, -7.13016, 28.3754, 0.136479, -7.13016, 29.8254, 0.336479, 9.11984, 29.8254, 0.336479, -7.13016, 31.6056, 1.13648, -0.862324, 30.1407, 0.536479, 3.60853, 30.1405, 0.536479, -3.86121, 21.1254, 0.136479, -7.13016, 13.8754, 0.136479, -7.13016, 13.8754, 0.136479, 9.11984, 21.1254, 0.136479, 9.11984, 13.1254, 3.23648, 10.1198, 5.87542, 3.23648, 10.1198, 5.87542, 3.23648, 11.8698, 13.3754, 3.23648, 11.8698, 28.3754, 3.23648, 11.8698, 35.8754, 3.23648, 11.8698, 35.6254, 3.23648, 10.1198, 28.1254, 3.23648, 10.1198, 20.6254, 3.23648, 10.1198, 13.1254, 3.23648, 10.1198, 13.3754, 3.23648, 11.8698, 20.8754, 3.23648, 11.8698, 20.8754, 3.23648, 11.8698, 28.3754, 3.23648, 11.8698, 28.1254, 3.23648, 10.1198, 20.6254, 3.23648, 10.1198, -35.3746, 0.136479, 44.6198, -35.3746, 0.136479, 55.8698, -24.8746, 0.136479, 55.8698, -35.3746, 0.136479, 44.6198, -24.8746, 0.136479, 55.8698, -14.1246, 0.136479, 55.8698, -35.3746, 0.136479, 33.3698, -35.3746, 0.136479, 44.6198, -14.1246, 0.136479, 55.8698, -3.62458, 0.136479, 55.8698, 7.12542, 0.136479, 55.8698, 7.12542, 0.136479, 12.8698, 5.12542, 0.136479, 12.8698, -35.3746, 0.136479, 22.1198, -35.3746, 0.136479, 33.3698, -3.62458, 0.136479, 55.8698, 5.12542, 0.136479, 12.8698, 4.87542, 0.136479, 11.1198, -35.3746, 0.136479, 11.1198, -35.3746, 0.136479, 22.1198, 72.3754, 0.136479, 55.8698, 80.6254, 0.136479, 55.8698, 80.6254, 0.136479, 44.6198, 64.1254, 0.136479, 55.8698, 72.3754, 0.136479, 55.8698, 80.6254, 0.136479, 44.6198, 55.8754, 0.136479, 55.8698, 64.1254, 0.136479, 55.8698, 80.6254, 0.136479, 44.6198, 80.6254, 0.136479, 33.6198, 80.6254, 0.136479, 11.3698, 49.8754, 0.136479, 11.1198, 49.6254, 0.136479, 12.8698, 80.6254, 0.136479, 22.3698, 80.6254, 0.136479, 22.3698, 49.6254, 0.136479, 12.8698, 47.6254, 0.136479, 12.8698, 47.6254, 0.136479, 55.8698, 55.8754, 0.136479, 55.8698, 80.6254, 0.136479, 33.6198, 17.1254, 0.136479, 12.8698, 7.12542, 0.136479, 12.8698, 7.12542, 0.136479, 55.8698, 17.1254, 0.136479, 55.8698, 37.3754, 0.136479, 12.8698, 27.3754, 0.136479, 12.8698, 27.3754, 0.136479, 55.8698, 37.3754, 0.136479, 55.8698, 37.3754, 0.136479, 55.8698, 47.6254, 0.136479, 55.8698, 47.6254, 0.136479, 12.8698, 37.3754, 0.136479, 12.8698, 27.3754, 0.136479, 12.8698, 17.1254, 0.136479, 12.8698, 17.1254, 0.136479, 55.8698, 27.3754, 0.136479, 55.8698)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(8, 7, 6), PackedInt32Array(11, 10, 9), PackedInt32Array(14, 13, 15), PackedInt32Array(15, 13, 12), PackedInt32Array(18, 17, 19), PackedInt32Array(19, 17, 16), PackedInt32Array(19, 16, 21), PackedInt32Array(19, 21, 20), PackedInt32Array(23, 22, 24), PackedInt32Array(24, 22, 25), PackedInt32Array(27, 26, 28), PackedInt32Array(28, 26, 29), PackedInt32Array(33, 32, 30), PackedInt32Array(30, 32, 31), PackedInt32Array(37, 36, 34), PackedInt32Array(34, 36, 35), PackedInt32Array(41, 40, 38), PackedInt32Array(38, 40, 39), PackedInt32Array(45, 44, 42), PackedInt32Array(42, 44, 43), PackedInt32Array(48, 47, 46), PackedInt32Array(51, 50, 49), PackedInt32Array(54, 53, 52), PackedInt32Array(55, 58, 56), PackedInt32Array(56, 58, 57), PackedInt32Array(60, 59, 61), PackedInt32Array(61, 59, 62), PackedInt32Array(62, 59, 63), PackedInt32Array(63, 59, 64), PackedInt32Array(66, 65, 67), PackedInt32Array(67, 65, 68), PackedInt32Array(70, 69, 71), PackedInt32Array(71, 69, 72), PackedInt32Array(75, 74, 73), PackedInt32Array(79, 78, 76), PackedInt32Array(76, 78, 77), PackedInt32Array(83, 82, 80), PackedInt32Array(80, 82, 81), PackedInt32Array(85, 84, 86), PackedInt32Array(86, 84, 87), PackedInt32Array(91, 90, 88), PackedInt32Array(88, 90, 89), PackedInt32Array(93, 92, 94), PackedInt32Array(94, 92, 95), PackedInt32Array(97, 96, 98), PackedInt32Array(98, 96, 99), PackedInt32Array(103, 105, 104), PackedInt32Array(104, 105, 100), PackedInt32Array(100, 105, 101), PackedInt32Array(101, 105, 102), PackedInt32Array(102, 105, 103), PackedInt32Array(107, 106, 108), PackedInt32Array(108, 106, 110), PackedInt32Array(108, 110, 109), PackedInt32Array(112, 111, 113), PackedInt32Array(113, 111, 114), PackedInt32Array(114, 111, 115), PackedInt32Array(119, 118, 116), PackedInt32Array(116, 118, 117), PackedInt32Array(123, 122, 120), PackedInt32Array(120, 122, 121), PackedInt32Array(125, 124, 126), PackedInt32Array(126, 124, 127), PackedInt32Array(127, 124, 128), PackedInt32Array(128, 124, 129), PackedInt32Array(131, 130, 132), PackedInt32Array(132, 130, 133), PackedInt32Array(136, 135, 134), PackedInt32Array(140, 139, 137), PackedInt32Array(137, 139, 138), PackedInt32Array(144, 143, 141), PackedInt32Array(141, 143, 142), PackedInt32Array(150, 153, 148), PackedInt32Array(148, 152, 145), PackedInt32Array(145, 152, 149), PackedInt32Array(149, 152, 146), PackedInt32Array(146, 151, 147), PackedInt32Array(147, 153, 150), PackedInt32Array(153, 152, 148), PackedInt32Array(152, 151, 146), PackedInt32Array(151, 153, 147), PackedInt32Array(153, 151, 152), PackedInt32Array(157, 156, 154), PackedInt32Array(154, 156, 155), PackedInt32Array(159, 158, 160), PackedInt32Array(160, 158, 161), PackedInt32Array(165, 164, 162), PackedInt32Array(162, 164, 163), PackedInt32Array(169, 168, 166), PackedInt32Array(166, 168, 167), PackedInt32Array(173, 172, 170), PackedInt32Array(170, 172, 171), PackedInt32Array(176, 175, 174), PackedInt32Array(179, 178, 177), PackedInt32Array(181, 180, 182), PackedInt32Array(182, 180, 183), PackedInt32Array(186, 185, 187), PackedInt32Array(187, 185, 188), PackedInt32Array(188, 185, 189), PackedInt32Array(189, 185, 184), PackedInt32Array(191, 190, 192), PackedInt32Array(192, 190, 193), PackedInt32Array(196, 195, 194), PackedInt32Array(199, 198, 197), PackedInt32Array(201, 200, 202), PackedInt32Array(202, 200, 203), PackedInt32Array(205, 204, 206), PackedInt32Array(206, 204, 207), PackedInt32Array(209, 208, 210), PackedInt32Array(210, 208, 213), PackedInt32Array(210, 213, 212), PackedInt32Array(210, 212, 211), PackedInt32Array(217, 216, 214), PackedInt32Array(214, 216, 215), PackedInt32Array(221, 220, 218), PackedInt32Array(218, 220, 219), PackedInt32Array(225, 224, 222), PackedInt32Array(222, 224, 223), PackedInt32Array(229, 228, 226), PackedInt32Array(226, 228, 227)]
cell_height = 0.1
agent_max_climb = 0.1
agent_max_slope = 53.84

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_tmhhm"]
albedo_color = Color(0.254902, 0.247059, 0.278431, 1)

[sub_resource type="PrismMesh" id="PrismMesh_8dlif"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_5aceq"]
data = PackedVector3Array(0, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0, 0.5, 0.5, 0, 0.5, -0.5, 0.5, -0.5, 0.5, 0, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0, 0.5, -0.5, 0, 0.5, 0.5, -0.5, -0.5, -0.5, 0, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_3yxxg"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_7chu5"]
sky_material = SubResource("ProceduralSkyMaterial_3yxxg")

[sub_resource type="Environment" id="Environment_xxopl"]
background_mode = 2
sky = SubResource("Sky_7chu5")
tonemap_mode = 2
glow_enabled = true

[node name="nav_test" type="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.862265, -8.55869, 16.4131)
script = ExtResource("1_xcjpi")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
shadow_enabled = true

[node name="player" parent="." instance=ExtResource("1_iije2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 40.8523, 4.64837, 4.2664)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_kkt7i")

[node name="World" parent="NavigationRegion3D" instance=ExtResource("6_xlnwg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 26.4846, -0.687718, 0.386177)

[node name="RigidBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.65622, 8.55729, 1.30143)

[node name="MeshInstance3D" type="MeshInstance3D" parent="RigidBody3D"]
transform = Transform3D(10, 0, 0, 0, 1, 0, 0, 0, 5, 0, -8.07914, 0)
material_override = SubResource("StandardMaterial3D_tmhhm")
mesh = SubResource("PrismMesh_8dlif")

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D"]
transform = Transform3D(10, 0, 0, 0, 1, 0, 0, 0, 5, 0, -8.07914, 0)
shape = SubResource("ConcavePolygonShape3D_5aceq")

[node name="cube" parent="." instance=ExtResource("3_l8c82")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.49758, 3.25483, 0.861101)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_xxopl")

[node name="floor" parent="WorldEnvironment" instance=ExtResource("2_poaoi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.95574, -8.56901, 16.3634)

[node name="follower" parent="." instance=ExtResource("6_5clb7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 23.724, -0.0103235, 2.0279)
